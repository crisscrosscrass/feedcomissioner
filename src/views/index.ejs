<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="/images/feed2.png">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Raleway" />
    <link href='https://fonts.googleapis.com/css?family=Raleway:800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Raleway:100' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <title>Feed Commissioner</title>
    <script src="js/feedmanager.js"></script>
    <script src="js/FeedAnalysis.js"></script>
    <script src="js/PreviewItems.js"></script>
    <script src="js/MappingTool.js"></script>
    <script src="js/ValidateFeedAnalysis.js"></script>
</head>

<body>
    <%- include ('header') %>
        <div id="myModal" class="itemModal">
            <div id="topMenu">
                <span id="dimensions">Dimensions</span>
                <span id="zoomInButton" class="zoomIn noselect">+&#x2315;</span>
                <span id="zoomOutButton" class="zoomOut noselect">-&#x2315;</span>
                <span class="fullscreenButton noselect" id="fullscreenImageModal">&#9724;</span>
                <span class="screenCloseButton noselect" id="closeModal">&times;</span>
            </div>
            <img class="imageModal-Content" id="img01" src="">
            <div id="caption"></div>
            <div id="modalFullScreenClose"></div>
        </div>
        <form id="feedCommissioner" class="form-signin" action="/signUp" method="post" role="form">
            <input type="text" name="url" class="form-control" id="feedURL" placeholder="Feed URL" required autofocus>
            <button class="btn btn-lg btn-primary btn-block" id="downloadFile" type="button">Download</button>
            <div class="upload-btn-wrapper">
                <button class="btn btn-lg btn-primary btn-block" id="uploadFile">Upload a file</button>
                <input type="file" name="file" id="file" required />
            </div>
            <button class="btn btn-lg btn-primary btn-block" id="clearFiles" type="button">Clear</button>
        </form>
        <div id="MappingSetting" class="ui-widget-content">
            <div id="MappingSelection"></div>
            <div id="outputMapping"></div>
        </div>
        <p id="AjaxOutput"></p>
        <div id="check"> </div>
        <%- include ('loadingHexagon') %>
            <script>
                $(function() {
                    $('#downloadFile').click(function() {
                        new FeedManager();
                    });
                    $("#file").change(function() {
                        new FeedManager(false, true);
                    });
                    $('#clearFiles').click(function() {
                        new FeedManager(true);
                    });
                });
                $(document).ajaxStart(function() {
                    $('#loading').show();
                }).ajaxStop(function() {
                    $('#loading').hide();
                });
            </script>
</body>

</html>